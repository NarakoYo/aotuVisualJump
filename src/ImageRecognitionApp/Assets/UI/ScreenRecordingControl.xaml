<UserControl x:Class="ImageRecognitionApp.Assets.UI.ScreenRecordingControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:converters="clr-namespace:ImageRecognitionApp.Converters"
             mc:Ignorable="d"
             Background="Transparent">
    <UserControl.Resources>
        <!-- 减法转换器 - 用于计算值的差值 -->
        <converters:SubtractConverter x:Key="SubtractConverter"/>
        <!-- 宽高比转换器 - 用于根据宽度计算高度 -->
        <converters:AspectRatioConverter x:Key="AspectRatioConverter"/>
    </UserControl.Resources>
    <!-- 使用Border包装整个内容，实现圆角效果 -->
    <Border Background="#3D8686" CornerRadius="10">
        <Grid>
            <!-- 展示画布内容的区域 -->
            <!-- 宽度等于内容框的宽度-16px，高度根据宽度进行16:10换算 -->
            <Border x:Name="CanvasBorder" 
                    Background="#1E1E1E" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Top" 
                    Margin="-8,0,0,0" 
                    CornerRadius="10">
                <!-- 宽度设置 -->
                <Border.Width>
                    <MultiBinding Converter="{StaticResource SubtractConverter}">
                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=ContentControl}"/>
                        <Binding Source="16"/>
                    </MultiBinding>
                </Border.Width>
                <!-- 高度设置 - 16:10 宽高比 -->
                <Border.Height>
                    <MultiBinding Converter="{StaticResource AspectRatioConverter}">
                        <!-- 与宽度相同的计算方式，确保高度基于正确的宽度值计算 -->
                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=ContentControl}"/>
                        <Binding Source="10"/><!-- 目标高度比例 -->
                        <Binding Source="16"/><!-- 目标宽度比例 -->
                    </MultiBinding>
                </Border.Height>
                <!-- 画布内容 - 暂时显示提示文本 -->
                <TextBlock Text="录制画布区域" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center" 
                           FontSize="16" 
                           Foreground="White"/>
            </Border>
        </Grid>
    </Border>
</UserControl>